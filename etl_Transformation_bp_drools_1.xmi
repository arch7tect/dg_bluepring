<?xml version="1.0" encoding="ASCII"?>
<etl:Transformation xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:etl="http://www.neoflex.ru/meta/etl" name="bp_drools_1" label="bp_drools_1" jsonView="{&quot;cells&quot;:[{&quot;type&quot;:&quot;devs.transformation.ExpressionSource&quot;,&quot;size&quot;:{&quot;width&quot;:80,&quot;height&quot;:80},&quot;inPorts&quot;:[],&quot;outPorts&quot;:[&quot;out&quot;],&quot;ports&quot;:{&quot;groups&quot;:{&quot;in&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;left&quot;},&quot;attrs&quot;:{&quot;.port-body&quot;:{&quot;fill&quot;:&quot;white&quot;,&quot;magnet&quot;:&quot;passive&quot;,&quot;stroke&quot;:&quot;#000&quot;,&quot;r&quot;:10},&quot;.port-label&quot;:{&quot;text&quot;:&quot;&quot;,&quot;visibility&quot;:&quot;hidden&quot;,&quot;fill&quot;:&quot;#000&quot;},&quot;circle&quot;:{&quot;r&quot;:7,&quot;stroke&quot;:&quot;#4d4d4dde&quot;,&quot;stroke-width&quot;:1}},&quot;label&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;left&quot;,&quot;args&quot;:{&quot;y&quot;:10}}}},&quot;out&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;right&quot;},&quot;label&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;right&quot;,&quot;args&quot;:{&quot;y&quot;:10}}},&quot;attrs&quot;:{&quot;.port-body&quot;:{&quot;fill&quot;:&quot;#4d4d4dde&quot;,&quot;stroke&quot;:&quot;#000&quot;,&quot;r&quot;:10,&quot;magnet&quot;:true},&quot;.port-label&quot;:{&quot;text&quot;:&quot;&quot;,&quot;visibility&quot;:&quot;hidden&quot;,&quot;fill&quot;:&quot;#000&quot;},&quot;circle&quot;:{&quot;r&quot;:7,&quot;stroke&quot;:&quot;#4d4d4dde&quot;,&quot;stroke-width&quot;:1}}}},&quot;items&quot;:[{&quot;id&quot;:&quot;out&quot;,&quot;group&quot;:&quot;out&quot;,&quot;attrs&quot;:{&quot;.port-label&quot;:{&quot;text&quot;:&quot;out&quot;}}}]},&quot;position&quot;:{&quot;x&quot;:150,&quot;y&quot;:210},&quot;angle&quot;:0,&quot;id&quot;:&quot;9453780d-e964-4f90-b051-104d2086585d&quot;,&quot;z&quot;:1,&quot;name&quot;:&quot;Expression_0&quot;,&quot;attrs&quot;:{&quot;.label&quot;:{&quot;text&quot;:&quot;Expression_0&quot;}}},{&quot;type&quot;:&quot;devs.transformation.drools&quot;,&quot;size&quot;:{&quot;width&quot;:80,&quot;height&quot;:80},&quot;inPorts&quot;:[&quot;in&quot;],&quot;outPorts&quot;:[&quot;out&quot;],&quot;ports&quot;:{&quot;groups&quot;:{&quot;in&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;left&quot;},&quot;attrs&quot;:{&quot;.port-body&quot;:{&quot;fill&quot;:&quot;white&quot;,&quot;magnet&quot;:&quot;passive&quot;,&quot;stroke&quot;:&quot;#000&quot;,&quot;r&quot;:10},&quot;.port-label&quot;:{&quot;text&quot;:&quot;&quot;,&quot;visibility&quot;:&quot;hidden&quot;,&quot;fill&quot;:&quot;#000&quot;},&quot;circle&quot;:{&quot;r&quot;:7,&quot;stroke&quot;:&quot;#4d4d4dde&quot;,&quot;stroke-width&quot;:1}},&quot;label&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;left&quot;,&quot;args&quot;:{&quot;y&quot;:10}}}},&quot;out&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;right&quot;},&quot;label&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;right&quot;,&quot;args&quot;:{&quot;y&quot;:10}}},&quot;attrs&quot;:{&quot;.port-body&quot;:{&quot;fill&quot;:&quot;#4d4d4dde&quot;,&quot;stroke&quot;:&quot;#000&quot;,&quot;r&quot;:10,&quot;magnet&quot;:true},&quot;.port-label&quot;:{&quot;text&quot;:&quot;&quot;,&quot;visibility&quot;:&quot;hidden&quot;,&quot;fill&quot;:&quot;#000&quot;},&quot;circle&quot;:{&quot;r&quot;:7,&quot;stroke&quot;:&quot;#4d4d4dde&quot;,&quot;stroke-width&quot;:1}}}},&quot;items&quot;:[{&quot;id&quot;:&quot;in&quot;,&quot;group&quot;:&quot;in&quot;,&quot;attrs&quot;:{&quot;.port-label&quot;:{&quot;text&quot;:&quot;in&quot;}}},{&quot;id&quot;:&quot;out&quot;,&quot;group&quot;:&quot;out&quot;,&quot;attrs&quot;:{&quot;.port-label&quot;:{&quot;text&quot;:&quot;out&quot;}}}]},&quot;position&quot;:{&quot;x&quot;:300,&quot;y&quot;:240},&quot;angle&quot;:0,&quot;id&quot;:&quot;a3236097-91dd-47cf-acb8-38e09a56431c&quot;,&quot;z&quot;:2,&quot;name&quot;:&quot;Drools_1&quot;,&quot;attrs&quot;:{&quot;.label&quot;:{&quot;text&quot;:&quot;Drools_1&quot;}}},{&quot;type&quot;:&quot;devs.transformation.LocalTarget&quot;,&quot;size&quot;:{&quot;width&quot;:80,&quot;height&quot;:80},&quot;inPorts&quot;:[&quot;in&quot;],&quot;outPorts&quot;:[],&quot;ports&quot;:{&quot;groups&quot;:{&quot;in&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;left&quot;},&quot;attrs&quot;:{&quot;.port-body&quot;:{&quot;fill&quot;:&quot;white&quot;,&quot;magnet&quot;:&quot;passive&quot;,&quot;stroke&quot;:&quot;#000&quot;,&quot;r&quot;:10},&quot;.port-label&quot;:{&quot;text&quot;:&quot;&quot;,&quot;visibility&quot;:&quot;hidden&quot;,&quot;fill&quot;:&quot;#000&quot;},&quot;circle&quot;:{&quot;r&quot;:7,&quot;stroke&quot;:&quot;#4d4d4dde&quot;,&quot;stroke-width&quot;:1}},&quot;label&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;left&quot;,&quot;args&quot;:{&quot;y&quot;:10}}}},&quot;out&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;right&quot;},&quot;label&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;right&quot;,&quot;args&quot;:{&quot;y&quot;:10}}},&quot;attrs&quot;:{&quot;.port-body&quot;:{&quot;fill&quot;:&quot;#4d4d4dde&quot;,&quot;stroke&quot;:&quot;#000&quot;,&quot;r&quot;:10,&quot;magnet&quot;:true},&quot;.port-label&quot;:{&quot;text&quot;:&quot;&quot;,&quot;visibility&quot;:&quot;hidden&quot;,&quot;fill&quot;:&quot;#000&quot;},&quot;circle&quot;:{&quot;r&quot;:7,&quot;stroke&quot;:&quot;#4d4d4dde&quot;,&quot;stroke-width&quot;:1}}}},&quot;items&quot;:[{&quot;id&quot;:&quot;in&quot;,&quot;group&quot;:&quot;in&quot;,&quot;attrs&quot;:{&quot;.port-label&quot;:{&quot;text&quot;:&quot;in&quot;}}}]},&quot;position&quot;:{&quot;x&quot;:450,&quot;y&quot;:210},&quot;angle&quot;:0,&quot;id&quot;:&quot;b0c3803e-1fed-4b27-ad98-983c5da76d9b&quot;,&quot;z&quot;:3,&quot;name&quot;:&quot;Local_2&quot;,&quot;attrs&quot;:{&quot;.label&quot;:{&quot;text&quot;:&quot;Local_2&quot;}}},{&quot;type&quot;:&quot;devs.transformation.Flow&quot;,&quot;source&quot;:{&quot;id&quot;:&quot;9453780d-e964-4f90-b051-104d2086585d&quot;,&quot;port&quot;:&quot;out&quot;},&quot;target&quot;:{&quot;id&quot;:&quot;a3236097-91dd-47cf-acb8-38e09a56431c&quot;,&quot;port&quot;:&quot;in&quot;},&quot;id&quot;:&quot;4c4cdeb9-3b83-452f-9c08-4d757a1c7d82&quot;,&quot;z&quot;:4,&quot;name&quot;:&quot;aa898668-3213-45cc-9574-688d4e333c4a&quot;,&quot;attrs&quot;:{&quot;.label&quot;:{&quot;text&quot;:&quot;aa898668-3213-45cc-9574-688d4e333c4a&quot;}}},{&quot;type&quot;:&quot;devs.transformation.Flow&quot;,&quot;source&quot;:{&quot;id&quot;:&quot;a3236097-91dd-47cf-acb8-38e09a56431c&quot;,&quot;port&quot;:&quot;out&quot;},&quot;target&quot;:{&quot;id&quot;:&quot;b0c3803e-1fed-4b27-ad98-983c5da76d9b&quot;,&quot;port&quot;:&quot;in&quot;},&quot;id&quot;:&quot;0d74d1da-a976-4bf0-b4e6-a0bcd330017d&quot;,&quot;z&quot;:5,&quot;name&quot;:&quot;ef68fcb1-0105-4c6c-9a86-d33e6d485709&quot;,&quot;attrs&quot;:{&quot;.label&quot;:{&quot;text&quot;:&quot;ef68fcb1-0105-4c6c-9a86-d33e6d485709&quot;}}}]}">
  <targets xsi:type="etl:LocalTarget" name="Local_2" label="Local_2" localFileName="/tmp/blueprint/droolsResult.json" saveMode="OVERWRITE">
    <inputPort name="Local_2in">
      <fields name="id" dataTypeDomain="DECIMAL"/>
      <fields name="name" dataTypeDomain="STRING"/>
    </inputPort>
    <inputFieldsMapping xsi:type="etl:TableTargetFeature" inputFieldName="id" targetColumnName="id"/>
    <inputFieldsMapping xsi:type="etl:TableTargetFeature" inputFieldName="name" targetColumnName="name"/>
  </targets>
  <transformationSteps xsi:type="etl:Drools" name="Drools_1" label="Drools_1" inputFactTypeName="ru.neoflex.rules.InputType" resultFactTypeName="ru.neoflex.rules.InputType" resultQueryName="getRes" resultFactName="res">
    <outputPort name="Drools_1out">
      <fields name="id" dataTypeDomain="DECIMAL"/>
      <fields name="name" dataTypeDomain="STRING"/>
    </outputPort>
    <inputPort name="Drools_1in">
      <fields name="id" dataTypeDomain="DECIMAL"/>
      <fields name="name" dataTypeDomain="STRING"/>
    </inputPort>
    <rulesFiles fileUrl="/tmp/blueprint/droolsTypes.drl"/>
    <rulesFiles fileUrl="/tmp/blueprint/droolsRules.xls" fileType="XLS"/>
  </transformationSteps>
  <sources xsi:type="etl:ExpressionSource" name="Expression_0" label="Expression_0" expression="Array(&#xA;    Map(&quot;id&quot; -> new java.math.BigDecimal(1), &quot;name&quot; -> &quot;1&quot;),&#xA;    Map(&quot;id&quot; -> new java.math.BigDecimal(2), &quot;name&quot; -> &quot;2&quot;) &#xA;)">
    <outputPort name="Expression_0out">
      <fields name="id" dataTypeDomain="DECIMAL"/>
      <fields name="name" dataTypeDomain="STRING"/>
    </outputPort>
  </sources>
  <transitions name="aa898668-3213-45cc-9574-688d4e333c4a" start="//@sources.0/@outputPort" finish="//@transformationSteps.0/@inputPort"/>
  <transitions name="ef68fcb1-0105-4c6c-9a86-d33e6d485709" start="//@transformationSteps.0/@outputPort" finish="//@targets.0/@inputPort"/>
  <auditInfo changeUser="arch7tect" changeDateTime="2019-04-17T10:27:15.695+0300" createUser="arch7tect" createDateTime="2019-04-17T10:27:12.373+0300"/>
</etl:Transformation>
